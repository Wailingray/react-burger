(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{104:function(e,t,n){e.exports={loaderContainer:"loader_loaderContainer__iANE0",loader:"loader_loader__2zbob"}},105:function(e,t,n){e.exports={modal:"modal_modal__3e_03",button:"modal_button__2Z9Vb"}},106:function(e,t,n){e.exports={digits:"order-details_digits__3l1Gp"}},12:function(e,t,n){e.exports={orderTape:"feed_orderTape__AFtKN",page:"feed_page__2j9i1",sections:"feed_sections__2B_p3",orderTable:"feed_orderTable__Q2WKd",orderInfoContainer:"feed_orderInfoContainer__st88w",orderInfo:"feed_orderInfo__1QhPp",orderList:"feed_orderList__1m_C3",activeList:"feed_activeList__2GKA3",doneContainer:"feed_doneContainer__4aywr",digits:"feed_digits__2MWbH"}},13:function(e,t,n){e.exports={container:"order-modal_container__1-uFG",number:"order-modal_number__3iV4M",ingredientsList:"order-modal_ingredientsList__1Eon8",ingredientContainer:"order-modal_ingredientContainer__1oFZg",pictureContainer:"order-modal_pictureContainer__3eGAm",picture:"order-modal_picture__5FVFM",priceContainer:"order-modal_priceContainer__C3Ntm",footer:"order-modal_footer__2jbq2",tagContainer:"order-modal_tagContainer__1Er_v"}},153:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__3k6hE"}},154:function(e,t,n){e.exports={ingredient:"constructor-ingredient_ingredient__3HS3X"}},155:function(e,t,n){e.exports={main:"home_main__1GZwK",message:"home_message__1EtCs"}},159:function(e,t,n){e.exports={container:"ingredient-page_container__QnIrg"}},16:function(e,t,n){e.exports={title:"ingredient-details_title__1KnFY",nutrition:"ingredient-details_nutrition__JH_wp",nutrient:"ingredient-details_nutrient__32MUB",pageContainer:"ingredient-details_pageContainer__2J1FB",pageTitle:"ingredient-details_pageTitle__3zuWg"}},160:function(e,t,n){e.exports={container:"order-page_container__1NQhX"}},161:function(e,t,n){e.exports={container:"user-order-page_container__1JnQ9"}},169:function(e,t,n){},17:function(e,t,n){e.exports={section:"burger-ingredients_section__AgVVd",options:"burger-ingredients_options__2MQ0I",title:"burger-ingredients_title__Dk04L",layer:"burger-ingredients_layer__2F3hR",component:"burger-ingredients_component__22k19",item:"burger-ingredients_item__3u6q8",tabs:"burger-ingredients_tabs__y1Zok",list:"burger-ingredients_list__2R2Nu"}},22:function(e,t,n){e.exports={header:"app-header_header__1Nkvz",logo:"app-header_logo__3o_9a",navigation:"app-header_navigation__17uiX",item:"app-header_item__3yYKh",link:"app-header_link__54OsS",activeLink:"app-header_activeLink__2acIm"}},25:function(e,t,n){e.exports={form:"profile_form__1A1NT",profilePageContainer:"profile_profilePageContainer__3nuLb",navContainer:"profile_navContainer__1kKh6",formContainer:"profile_formContainer__Ad4Ui",navLinkList:"profile_navLinkList__1eHSs",inputContainer:"profile_inputContainer__3nQWK",linkContainer:"profile_linkContainer__2JEaU",comment:"profile_comment__1Ugx6",buttonsContainer:"profile_buttonsContainer__C4vnd",button:"profile_button__3IwwJ"}},26:function(e,t,n){e.exports={linkContainer:"order-card_linkContainer__3AFxU",container:"order-card_container__egHEk",metadata:"order-card_metadata__1TqY6",ingredients:"order-card_ingredients__1fT2y",orderData:"order-card_orderData__3cL7F",listItem:"order-card_listItem__1DZrq",picture:"order-card_picture__2rw1y",counter:"order-card_counter__1YQ7R",priceContainer:"order-card_priceContainer__2xLBH"}},29:function(e,t,n){e.exports={section:"burger-constructor_section__AdB5a",innerList:"burger-constructor_innerList__B7mGP",ingredientList:"burger-constructor_ingredientList__1a8X2",ingredient:"burger-constructor_ingredient__2BCmA",confirmationZone:"burger-constructor_confirmationZone__CWCB8",onHover:"burger-constructor_onHover__2i6Qp"}},30:function(e,t,n){e.exports={form:"login_form__1NIH4",formContainer:"login_formContainer__3oYgA",inputContainer:"login_inputContainer__3EWba",linkContainer:"login_linkContainer__Muz4C",link:"login_link__2O7dq"}},34:function(e,t,n){e.exports={form:"register_form__3ikjK",formContainer:"register_formContainer__1iXbO",inputContainer:"register_inputContainer__230Pc",linkContainer:"register_linkContainer__3C4Tn",link:"register_link__xj9Zs"}},352:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(45),i=n.n(a),s=(n(169),n(3)),o=n(22),u=n.n(o),l=n(6),d=n(0),m=function(){return Object(d.jsxs)("header",{className:u.a.header,children:[Object(d.jsx)(l.c,{to:"/",className:u.a.logo,exact:!0,children:Object(d.jsx)(s.Logo,{})}),Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{className:u.a.navigation,children:[Object(d.jsx)("li",{className:u.a.item,children:Object(d.jsxs)(l.c,{to:"/",activeClassName:"".concat(u.a.activeLink),exact:!0,className:"".concat(u.a.link,"  pt-4 pb-4 pl-5 pb-5"),children:[Object(d.jsx)(s.BurgerIcon,{type:"primary"}),Object(d.jsx)("p",{className:"text text_type_main-default pl-2",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]})}),Object(d.jsx)("li",{className:u.a.item,children:Object(d.jsxs)(l.c,{to:"/feed",activeClassName:"".concat(u.a.activeLink),exact:!0,className:"".concat(u.a.link),children:[Object(d.jsx)(s.ListIcon,{type:"primary"}),Object(d.jsx)("p",{className:"text text_type_main-default pl-2",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})}),Object(d.jsx)("li",{className:u.a.item,children:Object(d.jsxs)(l.c,{to:"/profile",activeClassName:"".concat(u.a.activeLink),className:"".concat(u.a.link),children:[Object(d.jsx)(s.ProfileIcon,{type:"primary"}),Object(d.jsx)("p",{className:"text text_type_main-default pl-2",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})]})},j=n(11),b=n(4),_=n(7),p=n.n(_),f=n(15);new Date("2021-06-23T14:43:22.587Z"),new Date("2021-06-23T14:43:22.603Z");function x(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function O(e,t,n){var r=(n=n||{}).expires;if("number"==typeof r&&r){var c=new Date;c.setTime(c.getTime()+1e3*r),r=n.expires=c}r&&r.toUTCString&&(n.expires=r.toUTCString());var a=e+"="+(t=encodeURIComponent(t));for(var i in n){a+="; "+i;var s=n[i];!0!==s&&(a+="="+s)}document.cookie=a}function h(e){O(e,"",{expires:-1})}var g=function(e){var t,n;0===e.accessToken.indexOf("Bearer")&&(t=e.accessToken.split("Bearer ")[1]),n=e.refreshToken,t&&n&&(O("accessToken",t,{expires:1200}),O("refreshToken",n))};function v(e){var t=function(e){var t=new Date,n=new Date(e);return n.setHours(0,0,0,0),t.setHours(0,0,0,0),function(e){return 0===e?"\u0421\u0435\u0433\u043e\u0434\u043d\u044f":1===e?"\u0412\u0447\u0435\u0440\u0430":"".concat(e,e>1&&e<5?" \u0434\u043d\u044f \u043d\u0430\u0437\u0430\u0434":" \u0434\u043d\u0435\u0439 \u043d\u0430\u0437\u0430\u0434")}((+t-+n)/864e5)}(e),n=function(e){return new Date(e).toLocaleString("ru",{hour:"2-digit",minute:"2-digit",timeZoneName:"short"})}(e);return"".concat(t,", ").concat(n)}var y="https://norma.nomoreparties.space/api",N={logoutUrl:"".concat(y,"/auth/logout"),updateTokenUrl:"".concat(y,"/auth/token"),getUserUrl:"".concat(y,"/auth/user"),signInUrl:"".concat(y,"/auth/login"),registerUrl:"".concat(y,"/auth/register"),passwordResetUrlStep2:"".concat(y,"/password-reset/reset"),passwordResetUrlStep1:"".concat(y,"/password-reset"),ingredientsUrl:"".concat(y,"/ingredients"),ordersUrl:"".concat(y,"/orders"),headers:{"Content-Type":"application/json"}},C=function(e){return e.ok?e.json():Promise.reject(e.status)},S=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.ingredientsUrl,{headers:N.headers});case 2:return t=e.sent,e.abrupt("return",C(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.ordersUrl,{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer "+n},body:JSON.stringify({ingredients:t})});case 2:return r=e.sent,e.abrupt("return",C(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.passwordResetUrlStep1,{method:"POST",headers:N.headers,body:JSON.stringify({email:t})});case 2:return n=e.sent,e.abrupt("return",C(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.passwordResetUrlStep2,{method:"POST",headers:N.headers,body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",C(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.registerUrl,{method:"POST",headers:N.headers,body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",C(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.signInUrl,{method:"POST",headers:N.headers,body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",C(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.getUserUrl,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 2:return n=e.sent,e.abrupt("return",C(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.updateTokenUrl,{method:"POST",headers:N.headers,body:JSON.stringify({token:t})});case 2:return n=e.sent,e.abrupt("return",C(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.logoutUrl,{method:"POST",headers:N.headers,body:JSON.stringify({token:t})});case 2:return n=e.sent,e.abrupt("return",C(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.getUserUrl,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify(n)});case 2:return r=e.sent,e.abrupt("return",C(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D="GET_ITEMS_REQUEST",F="GET_ITEMS_SUCCESS",P="GET_ITEMS_FAILED",M="ADD_TO_CONSTRUCTOR",A="REMOVE_FROM_CONSTRUCTOR",q="REPLACE_BUN",G="MOVE_ITEM",z="RECALCULATE_PRICE",V="SEND_TO_MODAL",W="RESET_CURRENT_INGREDIENT",J="RESET_CONSTRUCTOR",H=function(){return{type:z}},K=function(){return{type:W}},Q=function(){return function(e){e({type:D}),S().then((function(t){var n;e((n=t.data,{type:F,items:n}))})).catch((function(t){e({type:P,error:t})}))}},Z=n(17),X=n.n(Z),Y=n(40),$=n.n(Y),ee=n(358),te=n(58),ne=function(){return Object(te.b)()},re=te.c,ce=function(){return Object(j.i)()},ae=function(e){var t=Object(r.useState)(0),n=Object(b.a)(t,2),c=n[0],a=n[1],i=Object(j.h)(),o=re((function(e){return e.ingredients})).constructorItems;Object(r.useEffect)((function(){a(o.filter((function(t){return t._id===e.id})).length)}),[o,e]);var u=Object(ee.a)({type:"item",item:{id:e.id,ingType:e.ingType},collect:function(e){return{opacity:e.isDragging()?.3:1}}}),m=Object(b.a)(u,2),_=m[0].opacity,p=m[1];return Object(d.jsx)(l.b,{className:$.a.cardContainer,to:{pathname:"/ingredients/".concat(e.id),state:{from:i.pathname,background:i}},children:Object(d.jsxs)("div",{ref:p,className:$.a.card,style:{opacity:_},children:[Object(d.jsx)("img",{className:"".concat($.a.image," ml-4 mr-4"),src:e.image,alt:e.name}),c>0&&Object(d.jsx)(s.Counter,{count:c,size:"default"}),Object(d.jsxs)("div",{className:"".concat($.a.price," mt-1 mb-1"),children:[Object(d.jsx)("p",{className:"text text_type_digits-default ".concat($.a.value),children:e.price}),Object(d.jsx)(s.CurrencyIcon,{type:"primary"})]}),Object(d.jsx)("p",{className:"text text_type_main-default ".concat($.a.description),children:e.name})]})})},ie=n(104),se=n.n(ie),oe=n.p+"static/media/loading.a62ac9e6.png",ue=function(){return Object(d.jsx)("div",{className:se.a.loaderContainer,children:Object(d.jsx)("img",{className:se.a.loader,src:oe,alt:"Please wait..."})})},le=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=(t[0],t[1],Object(r.useState)("one")),c=Object(b.a)(n,2),a=c[0],i=c[1],o=Object(r.useRef)(null),u=Object(r.useRef)(null),l=Object(r.useRef)(null),m=ne();Object(j.g)();Object(r.useEffect)((function(){m(Q())}),[m]);var _=re((function(e){return e.ingredients})),p=_.ingredientItems,f=_.ingredientItemsRequest,x=_.ingredientItemsFailed,O=_.ingredientItemsError,h=Object(r.useCallback)((function(e){var t=e.target.getBoundingClientRect().top,n=function(e){var t;return null!==e?null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.getBoundingClientRect().top:0},r=function(e){return Math.abs(e-t)},c=n(u),a=n(l),s=n(o),d=Math.min(r(c),r(a),r(s));d===r(c)?i("two"):d===r(a)?i("three"):i("one")}),[]),g=function(e){return Object(d.jsx)("li",{className:X.a.item,onClick:function(){return m((t=e._id,{type:V,id:t}));var t},children:Object(d.jsx)(ae,{ingType:e.type,id:e._id,image:e.image,name:e.name,price:e.price})},e._id)},v=Object(r.useMemo)((function(){return f?Object(d.jsx)(ue,{}):x?Object(d.jsxs)("p",{className:"".concat(X.a.message," mt-20 text text_type_main-large"),children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430! \u041a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438: ",O]}):Object(d.jsxs)("div",{className:X.a.options,onScroll:h,children:[Object(d.jsxs)("div",{className:X.a.layer,children:[Object(d.jsx)("h2",{ref:o,className:"text text_type_main-medium ".concat(X.a.component," pt-10 pb-6"),children:"\u0411\u0443\u043b\u043a\u0438"}),Object(d.jsx)("ul",{className:"".concat(X.a.list," pl-4 pr-2"),children:p.filter((function(e){return"bun"===e.type})).map(g)})]}),Object(d.jsxs)("div",{className:X.a.layer,children:[Object(d.jsx)("h2",{ref:u,className:"text text_type_main-medium ".concat(X.a.component," pt-10 pb-6"),children:"\u0421\u043e\u0443\u0441\u044b"}),Object(d.jsx)("ul",{className:"".concat(X.a.list," pl-4 pr-2"),children:p.filter((function(e){return"sauce"===e.type})).map(g)})]}),Object(d.jsxs)("div",{className:X.a.layer,children:[Object(d.jsx)("h2",{ref:l,className:"text text_type_main-medium ".concat(X.a.component," pt-10 pb-6"),children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(d.jsx)("ul",{className:"".concat(X.a.list," pl-4 pr-2"),children:p.filter((function(e){return"main"===e.type})).map(g)})]})]})}),[f,p,O,x,h]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("section",{className:X.a.section,children:[Object(d.jsx)("h1",{className:"text text_type_main-large ".concat(X.a.title," pt-10 pb-5"),children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsx)(s.Tab,{value:"one",active:"one"===a,onClick:function(e){var t;i(e),null===(t=o.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(d.jsx)(s.Tab,{value:"two",active:"two"===a,onClick:function(e){var t;i(e),null===(t=u.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(d.jsx)(s.Tab,{value:"three",active:"three"===a,onClick:function(e){var t;i(e),null===(t=l.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),v]})})},de=n(29),me=n.n(de),je=n(153),be=n.n(je),_e=function(e){var t=e.onClose;return Object(d.jsx)("div",{onClick:function(){t()},className:be.a.overlay})},pe=n(105),fe=n.n(pe),xe=function(e){var t=e.children,n=e.onClose;return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&n()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[n]),Object(a.createPortal)(Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_e,{onClose:n}),Object(d.jsxs)("div",{className:fe.a.modal,children:[Object(d.jsx)("button",{onClick:n,className:"".concat(fe.a.button," mr-10 mt-15"),children:Object(d.jsx)(s.CloseIcon,{type:"primary"})}),t]})]}),document.getElementById("modal"))},Oe=n.p+"static/media/done.4fc5d6f0.svg",he=n(106),ge=n.n(he),ve=function(){var e=re((function(e){return e.order})),t=e.order,n=e.submitOrderSuccess,r=e.submitOrderError;return n&&null!==t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{className:"".concat(ge.a.digits," text text_type_digits-large mt-30"),children:t.order.number}),Object(d.jsx)("p",{className:"text text_type_main-medium mt-8",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(d.jsx)("img",{className:"mt-15 mb-15",src:Oe,alt:"Done!"}),Object(d.jsx)("p",{className:"text text_type_main-medium mb-2",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(d.jsx)("p",{className:"text text_type_main-medium text_color_inactive mb-30",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{className:"".concat(ge.a.digits," text text_type_digits-large mt-30"),children:"----"}),Object(d.jsx)("p",{className:"text text_type_main-medium mt-8 mb-8",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!"}),Object(d.jsxs)("p",{className:"text text_type_main-medium mb-2",children:["\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430! \u041a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438: ",r]}),Object(d.jsx)("p",{className:"text text_type_main-medium text_color_inactive mb-30",children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437 \u043f\u043e\u0437\u0434\u043d\u0435\u0435"})]})},ye=n(359),Ne="SUBMIT_SERVER_REQUEST",Ce="SUBMIT_USER_EMAIL_SUCCESS",Se="SUBMIT_SERVER_FAILED",Ee="SUBMIT_PWD_RESET_SUCCESS",Te="SUBMIT_SIGN_IN_SUCCESS",ke="SUBMIT_GET_USER_SUCCESS",Ie="SUBMIT_UPDATE_TOKENS_SUCCESS",we="SUBMIT_LOGOUT_SUCCESS",Re="SUBMIT_CHANGE_CREDENTIALS_SUCCESS",Ue="NO_TOKENS",Le="SET_USER",Be="SUBMIT_CAN_RESET_PWD",De="SUBMIT_CANNOT_RESET_PWD",Fe="REMOVE_SERVER_ERROR",Pe=function(){return{type:Ne}},Me=function(e){return{type:Se,error:e}},Ae=function(){return{type:Fe}},qe=function(e){return{type:Le,user:e}},Ge=function(){return{type:Ue}},ze=function(){return{type:Ie}},Ve=function(e){return function(t){t(Pe()),T(e).then((function(e){t({type:Ce,reply:e})})).catch((function(e){t(Me(e))}))}},We=function(e){return function(t){t(Pe()),k(e).then((function(e){t({type:Ee,reply:e})})).catch((function(e){t(Me(e))}))}},Je=function(e){return function(t){t(Pe()),w(e).then((function(e){t({type:Te,reply:e}),g(e),t(qe(e.user))})).catch((function(e){t(Me(e))}))}},He=function(e,t){t(Pe()),R(e).then((function(e){t({type:ke}),t(qe(e.user))})).catch((function(e){t(Me(e))}))},Ke=function(){return function(e){e(Pe());var t=x("refreshToken"),n=x("accessToken");n?He(n,e):t?function(e,t){t(Pe()),U(e).then((function(e){t(ze()),g(e);var n=x("accessToken");n&&He(n,t)})).catch((function(e){t(Me(e))}))}(t,e):e(Ge())}},Qe=function(){return function(e){e(Pe());var t=x("refreshToken");t&&L(t).then((function(){e({type:we}),h("accessToken"),h("refreshToken")})).catch((function(t){e(Me(t))}))}},Ze=function(e,t,n){n(Pe()),e&&B(e,t).then((function(e){n({type:Re}),n(qe(e.user))})).catch((function(e){n(Me(e))}))},Xe=function(e){return function(t){t(Pe());var n=x("refreshToken"),r=x("accessToken");r?Ze(r,e,t):n?function(e,t,n){n(Pe()),U(e).then((function(e){n(ze()),g(e);var r=x("accessToken");r&&Ze(r,t,n)})).catch((function(e){n(Me(e))}))}(n,e,t):t(Ge())}},Ye="SUBMIT_ORDER_REQUEST",$e="SUBMIT_ORDER_SUCCESS",et="SUBMIT_ORDER_FAILED",tt="ORDER_RESET",nt="SEND_ORDER_TO_MODAL",rt="RESET_ORDER_POPUP",ct=function(e){return{type:nt,order:e}},at=function(e,t,n){n({type:Ye}),E(e,t).then((function(e){n({type:$e,order:e}),n({type:J})})).catch((function(e){n({type:et,error:e})}))},it=function(e){return function(t){t(Pe());var n=x("refreshToken"),r=x("accessToken");r?at(e,r,t):n?function(e,t,n){n(Pe()),U(t).then((function(t){n(ze()),g(t);var r=x("accessToken");r&&at(e,r,n)})).catch((function(e){n(Me(e))}))}(e,n,t):t(Ge())}},st=n(154),ot=n.n(st),ut=function(e){var t=e.name,n=e.image,c=e.price,a=e._id,i=e.index,o=ne(),u=re((function(e){return e.ingredients})).constructorItems,l=u.length&&"bun"===u[0].type,m=Object(ye.a)({accept:"constructor-item",hover:function(e,t){if(null!==f.current){var n=e.index,r=i,c=f.current.getBoundingClientRect(),a=(c.bottom-c.top)/2,s=t.getClientOffset().y-c.top;if(n<r&&s<a)return;if(n>r&&s>a)return;o(function(e,t){return{type:G,dragIndex:e,hoverIndex:t}}(n+(l?1:0),r+(l?1:0))),e.index=r}}}),j=Object(b.a)(m,2)[1],_=Object(ee.a)({type:"constructor-item",item:{index:i},collect:function(e){return{isDragging:e.isDragging()}}}),p=Object(b.a)(_,2)[1],f=Object(r.useRef)(null),x=p(j(f));return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:ot.a.ingredient,id:a,ref:x,children:[Object(d.jsx)(s.DragIcon,{type:"primary"}),Object(d.jsx)(s.ConstructorElement,{isLocked:!1,text:t,price:c,thumbnail:n,handleClose:function(){o(function(e){return{type:A,index:e}}(i+(l?1:0))),o(H())}})]})})},lt=function(){var e=ne(),t=Object(j.g)();Object(r.useEffect)((function(){e(H())}),[e]);var n=re((function(e){return e.ingredients})),c=n.constructorItems,a=n.totalPrice,i=re((function(e){return e.order})),o=i.submitOrderSuccess,u=i.submitOrderFailed,l=i.submitOrderRequest,m=re((function(e){return e.user})).user,_=Object(r.useState)(!1),p=Object(b.a)(_,2),f=p[0],x=p[1],O=Object(r.useCallback)((function(){m?(x(!0),e(it(c.map((function(e){return e._id}))))):t.push({pathname:"/login"})}),[e,c,m]),h=Object(ye.a)({accept:"item",collect:function(e){return{isHover:e.isOver()}},drop:function(e){E(e)}}),g=Object(b.a)(h,2),v=g[0].isHover,y=g[1],N="".concat(me.a.section," pl-4 pr-2 pb-15\n  ").concat(v?me.a.onHover:""),C=Object(r.useMemo)((function(){return c.find((function(e){return"bun"===e.type}))}),[c]),S=Object(r.useMemo)((function(){return c.filter((function(e){return"bun"!==e.type}))}),[c]),E=function(t){var n,r="bun"===t.ingType;e(r?(n=t.id,{type:q,id:n}):function(e){return{type:M,id:e}}(t.id)),e(H())},T=l?"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435...":"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437";return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("section",{ref:y,className:N,children:[Object(d.jsxs)("ul",{className:"".concat(me.a.ingredientList," mt-25 mb-10"),children:[C&&Object(d.jsx)("li",{className:"".concat(me.a.ingredient," pr-2"),children:Object(d.jsx)(s.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(C.name," (\u0432\u0435\u0440\u0445)"),price:C.price,thumbnail:C.image})},C._id),Object(d.jsx)("ul",{className:me.a.innerList,children:S&&S.map((function(e,t){var n=e.name,r=e.image,c=e.price,a=e._id;return Object(d.jsx)("li",{className:me.a.ingredient,children:Object(d.jsx)(ut,{name:n,image:r,price:c,_id:a,index:t})},t)}))}),C&&Object(d.jsx)("li",{className:"".concat(me.a.ingredient," pr-2"),children:Object(d.jsx)(s.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(C.name," (\u043d\u0438\u0437)"),price:C.price,thumbnail:C.image})},C._id+"\u043d\u0438\u0437"),0===c.length&&Object(d.jsx)("p",{className:"mt-15 text text_type_main-medium",children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0431\u0443\u043b\u043a\u0443 \u0438 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430"})]}),Object(d.jsxs)("div",{className:"".concat(me.a.confirmationZone," mt-10"),children:[Object(d.jsxs)("p",{className:"text text_type_digits-medium",children:[a," ",Object(d.jsx)(s.CurrencyIcon,{type:"primary"})]}),Object(d.jsx)(s.Button,{disabled:!C||c.length<2,onClick:O,type:"primary",size:"large",children:T})]})]}),f&&(o||u)&&Object(d.jsx)(xe,{onClose:function(){x(!1),e({type:tt})},children:Object(d.jsx)(ve,{})})]})},dt=n(155),mt=n.n(dt),jt=n(357),bt=n(163),_t=function(){return Object(d.jsx)(jt.a,{backend:bt.a,children:Object(d.jsxs)("main",{className:mt.a.main,children:[Object(d.jsx)(le,{}),Object(d.jsx)(lt,{})]})})},pt=n(30),ft=n.n(pt),xt=n(59),Ot=xt.a().email().required(),ht=xt.a().required(),gt=xt.a().required().min(1),vt=xt.a().required().length(36),yt=function(){var e=Object(f.a)(p.a.mark((function e(t,n,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isValid(r);case 2:c=e.sent,n(!c);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(b.a)(a,2),o=i[0],u=i[1],m=Object(r.useState)(""),_=Object(b.a)(m,2),p=_[0],f=_[1],x=Object(r.useState)(!1),O=Object(b.a)(x,2),h=O[0],g=O[1],v=Object(r.useState)(!1),y=Object(b.a)(v,2),N=y[0],C=y[1],S=Object(r.useState)(!0),E=Object(b.a)(S,2),T=E[0],k=E[1],I=re((function(e){return e.user})),w=I.user,R=I.submitGetUserSuccess,U=I.foundNoTokens,L=I.submitServerFailed,B=I.submitServerError,D=Object(j.h)(),F=ne(),P=Object(j.g)();Object(r.useEffect)((function(){(R||U)&&k(!0)}),[R,U]),Object(r.useEffect)((function(){if(w){if(!D.state)return P.push({pathname:"/"});P.push({pathname:"".concat(D.state.from.pathname)})}}),[w]);return T?Object(d.jsx)("div",{className:"".concat(ft.a.formContainer),children:Object(d.jsxs)("form",{className:ft.a.form,onSubmit:function(e){if(e.preventDefault(),o||h)return null;F(Ae()),F(Je({email:n,password:p}))},children:[Object(d.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0412\u0445\u043e\u0434"}),Object(d.jsx)("div",{className:"".concat(ft.a.inputContainer," mb-6"),children:Object(d.jsx)(s.Input,{value:n,name:"email",placeholder:"E-mail",error:o,errorText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 e-mail!",size:"default",onChange:function(e){return function(e){c(e.target.value),yt(Ot,u,n)}(e)},onBlur:function(){return yt(Ot,u,n)}})}),Object(d.jsx)("div",{className:"".concat(ft.a.inputContainer," mb-6"),children:Object(d.jsx)(s.Input,{type:N?"text":"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:p,error:h,errorText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c!",name:"password",size:"default",icon:"ShowIcon",onIconClick:function(){return C(!N)},onChange:function(e){return function(e){f(e.target.value),yt(gt,g,p)}(e)},onBlur:function(){return yt(gt,g,p)}})}),L&&Object(d.jsxs)("p",{className:"text text_type_main-default text_color_inactive mb-6",children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430! \u041a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438: ",B]}),Object(d.jsx)(s.Button,{type:"primary",size:"large",disabled:h||o||!n||!p,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(d.jsxs)("div",{className:"".concat(ft.a.linkContainer," mt-20 mb-4"),children:[Object(d.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(d.jsx)(l.b,{className:"".concat(ft.a.link," text text_type_main-default text_color_inactive"),to:"/register",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(d.jsxs)("div",{className:"".concat(ft.a.linkContainer," mb-4"),children:[Object(d.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(d.jsx)(l.b,{className:"".concat(ft.a.link," text text_type_main-default text_color_inactive"),to:"/forgot-password",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})}):Object(d.jsx)(ue,{})},Ct=n(34),St=n.n(Ct),Et=function(){var e=Object(j.g)(),t=ne(),n=Object(j.h)(),c=Object(r.useState)(!1),a=Object(b.a)(c,2),i=a[0],o=a[1],u=Object(r.useState)(""),m=Object(b.a)(u,2),_=m[0],p=m[1],f=Object(r.useState)(!1),x=Object(b.a)(f,2),h=x[0],g=x[1],v=Object(r.useState)(""),y=Object(b.a)(v,2),N=y[0],C=y[1],S=Object(r.useState)(!1),E=Object(b.a)(S,2),T=E[0],k=E[1],w=Object(r.useState)(""),R=Object(b.a)(w,2),U=R[0],L=R[1],B=Object(r.useState)(!1),D=Object(b.a)(B,2),F=D[0],P=D[1],M=Object(r.useState)(!1),A=Object(b.a)(M,2),q=A[0],G=A[1],z=re((function(e){return e.user})),V=z.user,W=z.submitGetUserSuccess,J=z.foundNoTokens,H=(z.submitServerRequest,z.submitLogoutSuccess,z.submitChangeCredentialsSuccess,z.submitServerFailed),K=z.submitServerError;Object(r.useEffect)((function(){(W||J||!V)&&o(!0)}),[W,J]),Object(r.useEffect)((function(){if(V){if(!n.state)return e.push({pathname:"/"});e.push({pathname:"".concat(n.state.from.pathname)})}}),[V]);return i?Object(d.jsx)("div",{className:"".concat(St.a.formContainer),children:Object(d.jsxs)("form",{className:St.a.form,onSubmit:function(e){if(e.preventDefault(),F||T||h)return null;var n;t(Ae()),t((n={email:N,password:U,name:_},function(e){e(Pe()),I(n).then((function(t){var n,r;e({type:"SUBMIT_REGISTER_SUCCESS",reply:t}),0===t.accessToken.indexOf("Bearer")&&(n=t.accessToken.split("Bearer ")[1]),r=t.refreshToken,n&&r&&(O("accessToken",n,{expires:600}),O("refreshToken",r)),e(qe(t.user))})).catch((function(t){e(Me(t))}))}))},children:[Object(d.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(d.jsx)("div",{className:"".concat(St.a.inputContainer," mb-6"),children:Object(d.jsx)(s.Input,{value:_,name:"name",error:h,errorText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u043e\u0435 \u0438\u043c\u044f!",placeholder:"\u0418\u043c\u044f",size:"default",onChange:function(e){return function(e){p(e.target.value),yt(ht,g,_)}(e)},onBlur:function(){return yt(ht,g,_)}})}),Object(d.jsx)("div",{className:"".concat(St.a.inputContainer," mb-6"),children:Object(d.jsx)(s.Input,{value:N,name:"email",placeholder:"E-mail",error:T,errorText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 e-mail!",size:"default",onChange:function(e){return function(e){C(e.target.value),yt(Ot,k,N)}(e)},onBlur:function(){return yt(Ot,k,N)}})}),Object(d.jsx)("div",{className:"".concat(St.a.inputContainer," mb-6"),children:Object(d.jsx)(s.Input,{type:q?"text":"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:U,error:F,errorText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c!",name:"password",size:"default",icon:"ShowIcon",onIconClick:function(){return G(!q)},onChange:function(e){return function(e){L(e.target.value),yt(gt,P,U)}(e)}})}),H&&Object(d.jsxs)("p",{className:"text text_type_main-default text_color_inactive mb-6",children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430! \u041a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438: ",K]}),Object(d.jsx)(s.Button,{type:"primary",size:"large",disabled:F||T||h||!N||!_||!U,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(d.jsxs)("div",{className:"".concat(St.a.linkContainer," mt-20 mb-4"),children:[Object(d.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(d.jsx)(l.b,{className:"".concat(St.a.link," text text_type_main-default text_color_inactive"),to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}):Object(d.jsx)(ue,{})},Tt=n(47),kt=n.n(Tt),It=function(){var e=ne(),t=re((function(e){return e.user})),n=t.submitServerRequest,c=t.submitUserEmailSuccess,a=(t.submitGetUserSuccess,t.submitServerFailed),i=t.submitServerError,o=(t.foundNoTokens,t.user),u=Object(j.g)(),m=Object(r.useState)(""),_=Object(b.a)(m,2),p=_[0],f=_[1],x=Object(r.useState)(!1),O=Object(b.a)(x,2),h=O[0],g=O[1];Object(r.useEffect)((function(){return o||e(Ke()),function(){e(Ae())}}),[]),Object(r.useEffect)((function(){return c&&!n&&(e({type:Be}),u.push({pathname:"/reset-password"})),function(){e(Ae())}}),[c,n]),Object(r.useEffect)((function(){o&&u.push({pathname:"/"})}),[o]);var v=Object(r.useCallback)((function(t){if(t.preventDefault(),h)return null;e(Ae()),e(Ve(p))}),[p,h]);return Object(d.jsx)("div",{className:"".concat(kt.a.formContainer),children:Object(d.jsxs)("form",{className:kt.a.form,onSubmit:v,children:[Object(d.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(d.jsx)("div",{className:"".concat(kt.a.inputContainer," mb-6"),children:Object(d.jsx)(s.Input,{value:p,name:"email",placeholder:"E-mail",error:h,errorText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 e-mail!",size:"default",onChange:function(e){return function(e){f(e.target.value),yt(Ot,g,p)}(e)},onBlur:function(){return yt(Ot,g,p)}})}),a&&Object(d.jsxs)("p",{className:"text text_type_main-default text_color_inactive mb-4",children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430! \u041a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438: ",i]}),Object(d.jsx)(s.Button,{type:"primary",size:"large",disabled:h||!p,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"}),Object(d.jsxs)("div",{className:"".concat(kt.a.linkContainer," mt-20 mb-4"),children:[Object(d.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(d.jsx)(l.b,{className:"".concat(kt.a.link," text text_type_main-default text_color_inactive"),to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},wt=n(41),Rt=n.n(wt),Ut=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(b.a)(a,2),o=i[0],u=i[1],m=Object(r.useState)(""),_=Object(b.a)(m,2),p=_[0],f=_[1],x=Object(r.useState)(!1),O=Object(b.a)(x,2),h=O[0],g=O[1],v=Object(r.useState)(!1),y=Object(b.a)(v,2),N=y[0],C=y[1],S=ne(),E=Object(j.g)(),T=re((function(e){return e.user})),k=T.user,I=(T.submitGetUserSuccess,T.foundNoTokens,T.canResetPwd),w=T.submitServerFailed,R=T.submitServerError,U=T.submitPwdResetSuccess;T.submitServerRequest,T.submitLogoutSuccess,T.submitChangeCredentialsSuccess;Object(r.useEffect)((function(){return k||S(Ke()),function(){S(Ae())}}),[]),Object(r.useEffect)((function(){return!k&&I||E.push({pathname:"/login"}),function(){S(Ae()),S({type:De})}}),[k,I,E]);Object(r.useEffect)((function(){U&&setTimeout((function(){E.push({pathname:"/login"})}),3e3)}),[U]);return Object(d.jsx)("div",{className:"".concat(Rt.a.formContainer),children:Object(d.jsxs)("form",{className:Rt.a.form,onSubmit:function(e){if(e.preventDefault(),o||h)return null;S(Ae()),S(We({password:n,token:p}))},children:[Object(d.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(d.jsx)("div",{className:"".concat(Rt.a.inputContainer," mb-6"),children:Object(d.jsx)(s.Input,{type:N?"text":"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:n,error:o,errorText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c!",name:"password",size:"default",icon:"ShowIcon",onIconClick:function(){return C(!N)},onChange:function(e){return function(e){c(e.target.value),yt(gt,u,n)}(e)},onBlur:function(){return yt(gt,u,n)}})}),Object(d.jsx)("div",{className:"".concat(Rt.a.inputContainer," mb-6"),children:Object(d.jsx)(s.Input,{value:p,name:"code",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",size:"default",onChange:function(e){return function(e){f(e.target.value),yt(vt,g,p)}(e)},error:h,errorText:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043a\u043e\u0434\u0430!",onBlur:function(){return yt(vt,g,p)}})}),U&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b!"}),Object(d.jsx)("p",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0430\u0432\u043e\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u0438..."})]}),w&&Object(d.jsxs)("p",{className:"text text_type_main-default text_color_inactive mb-6",children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430! \u041a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438: ",R]}),Object(d.jsx)(s.Button,{type:"primary",size:"large",disabled:o||h||!p||!n,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(d.jsxs)("div",{className:"".concat(Rt.a.linkContainer," mt-20 mb-4"),children:[Object(d.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(d.jsx)(l.b,{className:"".concat(Rt.a.link," text text_type_main-default text_color_inactive"),to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},Lt=n(25),Bt=n.n(Lt),Dt="WS_PRIVATE_CONNECTION_START",Ft="WS_PRIVATE_CONNECTION_SUCCESS",Pt="WS_PRIVATE_CONNECTION_ERROR",Mt="WS_PRIVATE_CONNECTION_CLOSED",At="WS_GET_PRIVATE_MESSAGE",qt="WS_SEND_PRIVATE_MESSAGE",Gt=function(){return{type:Dt}},zt=function(){return{type:Mt}},Vt={startConnectionConst:Dt,sendMessageConst:qt,wsStartConnection:Gt,wsSendMessage:function(e){return{type:qt,payload:e}},wsOnOpen:function(){return{type:Ft}},wsOnClose:zt,wsOnError:function(){return{type:Pt}},wsGetMessage:function(e){return{type:At,payload:e}}},Wt=n(48),Jt=n.n(Wt),Ht=function(){var e=ne();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l.c,{className:"".concat(Jt.a.link," text text_type_main-medium"),to:"/profile",activeClassName:"".concat(Jt.a.activeLink),exact:!0,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(d.jsx)(l.c,{className:"".concat(Jt.a.link," text text_type_main-medium"),to:"/profile/orders",activeClassName:"".concat(Jt.a.activeLink),exact:!0,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(d.jsx)(l.c,{className:"".concat(Jt.a.link," text text_type_main-medium"),to:"/profile",onClick:function(t){return function(t){t.preventDefault(),e(Qe()),e(zt())}(t)},exact:!0,children:"\u0412\u044b\u0445\u043e\u0434"})]})},Kt=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=t[0],c=t[1],a=ne(),i=(Object(j.g)(),re((function(e){return e.user}))),o=i.user,u=i.submitGetUserSuccess,l=i.foundNoTokens,m=(i.submitServerRequest,i.submitLogoutSuccess,i.submitChangeCredentialsSuccess);Object(r.useEffect)((function(){o&&(I(o.email),v(o.name))}),[o]),Object(r.useEffect)((function(){(u||l)&&c(!0)}),[u,l]),Object(r.useEffect)((function(){return function(){x(!1),a(Ae())}}),[]);var _=Object(r.useState)(!1),p=Object(b.a)(_,2),f=p[0],x=p[1],O=Object(r.useState)(""),h=Object(b.a)(O,2),g=h[0],v=h[1],y=Object(r.useState)(!1),N=Object(b.a)(y,2),C=N[0],S=N[1],E=Object(r.useState)(""),T=Object(b.a)(E,2),k=T[0],I=T[1],w=Object(r.useState)(!1),R=Object(b.a)(w,2),U=R[0],L=R[1],B=Object(r.useState)(""),D=Object(b.a)(B,2),F=D[0],P=D[1],M=Object(r.useState)(!1),A=Object(b.a)(M,2),q=A[0],G=A[1],z=Object(r.useState)(!1),V=Object(b.a)(z,2),W=V[0],J=V[1];return n?Object(d.jsxs)("div",{className:"".concat(Bt.a.profilePageContainer),children:[Object(d.jsx)("div",{className:"".concat(Bt.a.navContainer),children:Object(d.jsxs)("ul",{className:"".concat(Bt.a.navLinkList),children:[Object(d.jsx)(Ht,{}),Object(d.jsx)("p",{className:"".concat(Bt.a.comment," text text_type_main-default text_color_inactive mt-20"),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]})}),Object(d.jsx)("div",{className:"".concat(Bt.a.formContainer),children:Object(d.jsxs)("form",{className:Bt.a.form,onSubmit:function(e){if(e.preventDefault(),q||U||C)return null;a(Xe({email:k,password:F,name:g})),x(!0)},children:[Object(d.jsx)("div",{className:"".concat(Bt.a.inputContainer," mb-6"),children:Object(d.jsx)(s.Input,{value:g,name:"name",error:C,errorText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u043e\u0435 \u0438\u043c\u044f!",placeholder:"\u0418\u043c\u044f",size:"default",onChange:function(e){return function(e){v(e.target.value),yt(ht,S,g)}(e)},onBlur:function(){return yt(ht,S,g)}})}),Object(d.jsx)("div",{className:"".concat(Bt.a.inputContainer," mb-6"),children:Object(d.jsx)(s.Input,{value:k,name:"email",placeholder:"E-mail",error:U,errorText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 e-mail!",size:"default",onChange:function(e){return function(e){I(e.target.value),yt(Ot,L,k)}(e)},onBlur:function(){return yt(Ot,L,k)}})}),Object(d.jsx)("div",{className:"".concat(Bt.a.inputContainer," mb-6"),children:Object(d.jsx)(s.Input,{type:W?"text":"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:F,error:q,errorText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c!",name:"password",size:"default",icon:"ShowIcon",onIconClick:function(){return J(!W)},onChange:function(e){return function(e){P(e.target.value),yt(gt,G,F)}(e)},onBlur:function(){return yt(gt,G,F)}})}),m&&f&&Object(d.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b!"}),Object(d.jsxs)("div",{className:"".concat(Bt.a.buttonsContainer," mt-6"),children:[Object(d.jsx)(s.Button,{type:"secondary",size:"medium",disabled:q||U||C||!k||!F||!g,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(d.jsx)(s.Button,{type:"secondary",size:"medium",onClick:function(e){return function(e){e.preventDefault(),o?(I(o.email),v(o.name)):(I(""),v(""))}(e)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})})]}):Object(d.jsx)(ue,{})},Qt=n(2),Zt=n(74),Xt=["children"],Yt=function(e){var t=e.children,n=Object(Zt.a)(e,Xt),c=ne(),a=re((function(e){return e.user})).user,i=Object(r.useState)(!1),s=Object(b.a)(i,2),o=(s[0],s[1]),u=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(Ke()),o(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){u()}),[]),a?Object(d.jsx)(j.b,Object(Qt.a)(Object(Qt.a)({},n),{},{render:function(){return t}})):Object(d.jsx)(j.b,Object(Qt.a)(Object(Qt.a)({},n),{},{render:function(e){var t=e.location;return Object(d.jsx)(j.a,{to:{pathname:"/login",state:{from:t}}})}}))},$t=n(26),en=n.n($t),tn=function(e){var t=e.number,n=e.time,r=e.name,c=e.ingredients,a=e.status,i=e.id,o=e.inFeedPage,u=re((function(e){return e.ingredients})).ingredientItems,m=Object(j.h)(),b=[];c.map((function(e){u.forEach((function(t){e===t._id&&b.push(t)}))}));var _,p=b.length-6,f=v(n),x=b.reduce((function(e,t){return e+t.price}),0);switch(a){case"pending":_=Object(d.jsx)("p",{className:"text text_type_main-small",children:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"});break;case"done":_=Object(d.jsx)("p",{style:{color:"#00CCCC"},className:"text text_type_main-small",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"});break;case"created":_=Object(d.jsx)("p",{className:"text text_type_main-small",children:"\u0421\u043e\u0437\u0434\u0430\u043d"})}return Object(d.jsx)(l.b,{className:en.a.linkContainer,to:{pathname:o?"/feed/".concat(i):"/profile/orders/".concat(i),state:{from:m.pathname,background:m}},children:Object(d.jsxs)("div",{className:"".concat(en.a.container),children:[Object(d.jsxs)("div",{className:"".concat(en.a.metadata),children:[Object(d.jsx)("p",{className:"text text_type_digits-default",children:"#".concat(t)}),Object(d.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:f})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"text text_type_main-medium mb-2",children:r}),_]}),Object(d.jsxs)("div",{className:"".concat(en.a.orderData),children:[Object(d.jsxs)("ul",{className:"".concat(en.a.ingredients),children:[b.map((function(e,t,n){return t<=5?Object(d.jsx)("li",{className:en.a.listItem,style:{zIndex:n.length-t},children:Object(d.jsx)("img",{className:en.a.picture,src:e.image_mobile})},t):null})),p>0&&Object(d.jsxs)("div",{style:{zIndex:c.length-5},className:"".concat(en.a.counter," text text_type_main-small"),children:["+",p]})]}),Object(d.jsxs)("div",{className:"".concat(en.a.priceContainer),children:[Object(d.jsx)("p",{className:"".concat(en.a.price,"text text_type_digits-default"),children:x}),Object(d.jsx)(s.CurrencyIcon,{type:"primary"})]})]})]})})},nn=n(42),rn=n.n(nn),cn=function(){var e=ne(),t=(Object(j.g)(),re((function(e){return e.user}))),n=(t.user,t.submitGetUserSuccess),c=t.foundNoTokens,a=(t.submitServerRequest,t.submitLogoutSuccess,t.submitChangeCredentialsSuccess,re((function(e){return e.userFeed}))),i=a.userOrders,s=a.total,o=(a.totalToday,a.wsConnected,a.hasError,Object(r.useState)(!1)),u=Object(b.a)(o,2),l=u[0],m=u[1];Object(r.useEffect)((function(){return e(Gt()),e(Q()),function(){e(zt)}}),[e]),Object(r.useEffect)((function(){return(n||c)&&m(!0),function(){e(Ae())}}),[n,c]);return l&&s?Object(d.jsxs)("div",{className:"".concat(rn.a.profilePageContainer),children:[Object(d.jsx)("div",{className:"".concat(rn.a.navContainer),children:Object(d.jsx)("ul",{className:"".concat(rn.a.navLinkList),children:Object(d.jsx)(Ht,{})})}),Object(d.jsx)("div",{className:"".concat(rn.a.formContainer),children:Object(d.jsx)("ul",{className:rn.a.orderTape,children:i.length?i.map((function(e){return e})).reverse().map((function(t,n){return n<15?Object(d.jsx)("li",{onClick:function(){return e(ct(t))},className:rn.a.cardContainer,children:Object(d.jsx)(tn,{number:t.number,time:t.createdAt,name:t.name,status:t.status,ingredients:t.ingredients,id:t._id,inFeedPage:!1})},n):null})):Object(d.jsx)("p",{className:"ml-30 mt-20 text text_type_main-medium",children:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u0430!"})})})]}):Object(d.jsx)(ue,{})},an=n(16),sn=n.n(an),on=function(){var e=re((function(e){return e.ingredients})),t=e.currentIngredient,n=e.ingredientItems,c=e.ingredientItemsRequest,a=e.ingredientItemsFailed,i=ce().id,s=ne(),o=Object(r.useState)(!1),u=Object(b.a)(o,2),l=u[0],m=u[1];Object(r.useEffect)((function(){(c||a)&&m(!0)}),[c,c]),Object(r.useEffect)((function(){0===n.length&&s(Q())}),[n]);var j=n.find((function(e){return e._id===i})),_=t;if(0!==n.length&&!a&&!c){if(_)return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{className:"".concat(sn.a.title," text text_type_main-large ml-10"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0438\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(d.jsx)("img",{className:sn.a.image,src:_.image_large,alt:_.name}),Object(d.jsx)("p",{className:"text text_type_main-medium mt-4 mb-8",children:_.name}),Object(d.jsxs)("ul",{className:sn.a.nutrition,children:[Object(d.jsxs)("li",{className:"".concat(sn.a.nutrient," mb-15"),children:[Object(d.jsxs)("p",{className:"text text_color_inactive text_type_main-small",children:["\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"," "]}),Object(d.jsx)("p",{className:"text text_color_inactive text_type_digits-default",children:_.calories})]}),Object(d.jsxs)("li",{className:"".concat(sn.a.nutrient," text text_color_inactive"),children:[Object(d.jsxs)("p",{className:"text text_color_inactive text_type_main-small",children:["\u0411\u0435\u043b\u043a\u0438, \u0433"," "]}),Object(d.jsx)("p",{className:"text text_color_inactive text_type_digits-default",children:_.proteins})]}),Object(d.jsxs)("li",{className:"".concat(sn.a.nutrient," text text_color_inactive"),children:[Object(d.jsxs)("p",{className:"text text_color_inactive text_type_main-small",children:["\u0416\u0438\u0440\u044b, \u0433"," "]}),Object(d.jsx)("p",{className:"text text_color_inactive text_type_digits-default",children:_.fat})]}),Object(d.jsxs)("li",{className:"".concat(sn.a.nutrient," text text_color_inactive"),children:[Object(d.jsxs)("p",{className:"text text_color_inactive text_type_main-small",children:["\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"," "]}),Object(d.jsx)("p",{className:"text text_color_inactive text_type_digits-default",children:_.carbohydrates})]})]})]});if(j)return l?Object(d.jsxs)("div",{className:sn.a.pageContainer,children:[Object(d.jsx)("span",{className:"".concat(sn.a.pageTitle," text text_type_main-large"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0438\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(d.jsx)("img",{className:sn.a.image,src:null===j||void 0===j?void 0:j.image_large,alt:null===j||void 0===j?void 0:j.name}),Object(d.jsx)("p",{className:"text text_type_main-medium mt-4 mb-8",children:null===j||void 0===j?void 0:j.name}),Object(d.jsxs)("ul",{className:sn.a.nutrition,children:[Object(d.jsxs)("li",{className:"".concat(sn.a.nutrient," mb-15"),children:[Object(d.jsxs)("p",{className:"text text_color_inactive text_type_main-small",children:["\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"," "]}),Object(d.jsx)("p",{className:"text text_color_inactive text_type_digits-default",children:null===j||void 0===j?void 0:j.calories})]}),Object(d.jsxs)("li",{className:"".concat(sn.a.nutrient," text text_color_inactive"),children:[Object(d.jsxs)("p",{className:"text text_color_inactive text_type_main-small",children:["\u0411\u0435\u043b\u043a\u0438, \u0433"," "]}),Object(d.jsx)("p",{className:"text text_color_inactive text_type_digits-default",children:null===j||void 0===j?void 0:j.proteins})]}),Object(d.jsxs)("li",{className:"".concat(sn.a.nutrient," text text_color_inactive"),children:[Object(d.jsxs)("p",{className:"text text_color_inactive text_type_main-small",children:["\u0416\u0438\u0440\u044b, \u0433"," "]}),Object(d.jsx)("p",{className:"text text_color_inactive text_type_digits-default",children:null===j||void 0===j?void 0:j.fat})]}),Object(d.jsxs)("li",{className:"".concat(sn.a.nutrient," text text_color_inactive"),children:[Object(d.jsxs)("p",{className:"text text_color_inactive text_type_main-small",children:["\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"," "]}),Object(d.jsx)("p",{className:"text text_color_inactive text_type_digits-default",children:null===j||void 0===j?void 0:j.carbohydrates})]})]})]}):Object(d.jsx)(ue,{})}return Object(d.jsx)(ue,{})},un=n(159),ln=n.n(un),dn=function(){return Object(d.jsx)("div",{className:ln.a.container,children:Object(d.jsx)(on,{})})},mn="WS_CONNECTION_START",jn="WS_CONNECTION_SUCCESS",bn="WS_CONNECTION_ERROR",_n="WS_CONNECTION_CLOSED",pn="WS_GET_MESSAGE",fn="WS_SEND_MESSAGE",xn=function(){return{type:mn}},On=function(){return{type:_n}},hn={startConnectionConst:mn,sendMessageConst:fn,wsStartConnection:xn,wsSendMessage:function(e){return{type:fn,payload:e}},wsOnOpen:function(){return{type:jn}},wsOnClose:On,wsOnError:function(){return{type:bn}},wsGetMessage:function(e){return{type:pn,payload:e}}},gn=n(12),vn=n.n(gn),yn=function(){Object(j.g)();var e=ne(),t=re((function(e){return e.feed})),n=t.orders,c=t.total,a=t.totalToday,i=t.wsConnected,s=t.hasError;Object(r.useEffect)((function(){return e(xn()),e(Q()),function(){e(On())}}),[e]);var o=function(e,t){return t<10?Object(d.jsx)("li",{className:vn.a.listItem,children:e.number},t):null};return i&&!s?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"".concat(vn.a.page),children:[Object(d.jsx)("h1",{className:"".concat(vn.a.title," text text_type_main-large mt-10 mb-5"),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(d.jsxs)("div",{className:"".concat(vn.a.sections),children:[Object(d.jsx)("ul",{className:"".concat(vn.a.orderTape),children:n.map((function(t,n){return n<10?Object(d.jsx)("li",{onClick:function(){return e(ct(t))},children:Object(d.jsx)(tn,{number:t.number,time:t.createdAt,name:t.name,ingredients:t.ingredients,id:t._id,inFeedPage:!0})},n):null}))}),Object(d.jsxs)("section",{className:"".concat(vn.a.orderTable),children:[Object(d.jsxs)("div",{className:"".concat(vn.a.orderInfoContainer),children:[Object(d.jsxs)("div",{className:"".concat(vn.a.orderInfo),children:[Object(d.jsx)("p",{className:"".concat(vn.a.orderTitle," text text_type_main-medium"),children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(d.jsx)("ul",{className:"".concat(vn.a.orderList," ").concat(vn.a.activeList," text text text_type_digits-default"),children:n.map(o)})]}),Object(d.jsxs)("div",{className:"".concat(vn.a.orderInfo),children:[Object(d.jsx)("p",{className:"".concat(vn.a.orderTitle," text text_type_main-medium"),children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(d.jsx)("ul",{className:"".concat(vn.a.orderList," text text text_type_digits-default"),children:n.map(o)})]})]}),Object(d.jsxs)("div",{className:"".concat(vn.a.doneContainer),children:[Object(d.jsx)("p",{className:"".concat(vn.a.orderTitle," text text_type_main-medium"),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(d.jsx)("span",{className:"".concat(vn.a.digits," text text_type_digits-large"),children:c})]}),Object(d.jsxs)("div",{className:"".concat(vn.a.doneContainer),children:[Object(d.jsx)("p",{className:"".concat(vn.a.orderTitle," text text_type_main-medium"),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(d.jsx)("span",{className:"".concat(vn.a.digits," text text_type_digits-large"),children:a})]})]})]})]}),");"]}):Object(d.jsx)(ue,{})},Nn=n(160),Cn=n.n(Nn),Sn=n(13),En=n.n(Sn),Tn=function(){var e,t=re((function(e){return e.order})).modalOrder,n=re((function(e){return e.ingredients})).ingredientItems,r=re((function(e){return e.feed})).orders,c=re((function(e){return e.userFeed})).userOrders,a=[],i=function(e){e.ingredients.map((function(e,t,r){n.forEach((function(t){e===t._id&&a.push(Object(Qt.a)(Object(Qt.a)({},t),{},{count:r.reduce((function(e,n){return n===t._id?e+1:e}),0)}))}))}))},o=function(e){return e.filter((function(t,n){return e.findIndex((function(e){return e._id===t._id}))===n}))},u=function(e,t){return Object(d.jsx)("li",{children:Object(d.jsxs)("div",{className:"".concat(En.a.ingredientContainer),children:[Object(d.jsxs)("div",{className:"".concat(En.a.tagContainer),children:[Object(d.jsx)("div",{className:"".concat(En.a.pictureContainer),children:Object(d.jsx)("img",{className:"".concat(En.a.picture),src:e.image_mobile,alt:"pic"})}),Object(d.jsx)("p",{className:"text text_type_main-default ml-4 mr-4",children:e.name})]}),Object(d.jsxs)("div",{className:"".concat(En.a.priceContainer),children:[Object(d.jsx)("p",{className:"text text_type_digits-default",children:"".concat(e.count," x ").concat(e.price)}),Object(d.jsx)(s.CurrencyIcon,{type:"primary"})]})]})},t)},l=ce().id;switch(null===t||void 0===t?void 0:t.status){case"pending":e=Object(d.jsx)("p",{className:"text text_type_main-small",children:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"});break;case"done":e=Object(d.jsx)("p",{style:{color:"#00CCCC"},className:"text text_type_main-small",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"});break;case"created":e=Object(d.jsx)("p",{className:"text text_type_main-small",children:"\u0421\u043e\u0437\u0434\u0430\u043d"})}var m=t,j=r.find((function(e){return e._id===l}))||c.find((function(e){return e._id===l}));if(m){i(m);var b=a.reduce((function(e,t){return e+t.price}),0),_=v(m.createdAt);return Object(d.jsxs)("div",{className:"".concat(En.a.container),children:[Object(d.jsx)("span",{className:"".concat(En.a.number," text text_type_digits-default mb-10"),children:"#".concat(m.number)}),Object(d.jsx)("h1",{className:"".concat(En.a.name," text text_type_main-medium mb-3"),children:m.name}),e,Object(d.jsx)("p",{className:"text text_type_main-medium mt-15 mb-6",children:"\u0421\u043e\u0441\u0442\u0430\u0432"}),Object(d.jsx)("ul",{className:"".concat(En.a.ingredientsList),children:o(a).map(u)}),Object(d.jsxs)("div",{className:"".concat(En.a.footer," mt-10"),children:[Object(d.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:_}),Object(d.jsxs)("div",{className:"".concat(En.a.priceContainer),children:[Object(d.jsx)("p",{className:"text text_type_digits-default",children:b}),Object(d.jsx)(s.CurrencyIcon,{type:"primary"})]})]})]})}if(j){i(j);var p=a.reduce((function(e,t){return e+t.price}),0),f=v(j.createdAt);return Object(d.jsxs)("div",{className:"".concat(En.a.container),children:[Object(d.jsx)("span",{className:"".concat(En.a.number," text text_type_digits-default mb-10"),children:"#".concat(j.number)}),Object(d.jsx)("h1",{className:"".concat(En.a.name," text text_type_main-medium mb-3"),children:j.name}),e,Object(d.jsx)("p",{className:"text text_type_main-medium mt-15 mb-6",children:"\u0421\u043e\u0441\u0442\u0430\u0432"}),Object(d.jsx)("ul",{className:"".concat(En.a.ingredientsList),children:o(a).map(u)}),Object(d.jsxs)("div",{className:"".concat(En.a.footer," mt-10"),children:[Object(d.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:f}),Object(d.jsxs)("div",{className:"".concat(En.a.priceContainer),children:[Object(d.jsx)("p",{className:"text text_type_digits-default",children:p}),Object(d.jsx)(s.CurrencyIcon,{type:"primary"})]})]})]})}return Object(d.jsx)(ue,{})},kn=function(){var e=ne();return Object(r.useEffect)((function(){return e(xn()),e(Q()),function(){e(On())}}),[e]),Object(d.jsx)("div",{className:Cn.a.container,children:Object(d.jsx)(Tn,{})})},In=n(161),wn=n.n(In),Rn=function(){var e=ne();return Object(r.useEffect)((function(){return e(Gt()),e(Q()),function(){e(zt)}}),[e]),Object(d.jsx)("div",{className:wn.a.container,children:Object(d.jsx)(Tn,{})})},Un=function(){var e=ne(),t=Object(j.h)(),n=Object(j.g)(),r="PUSH"===n.action&&t.state&&t.state.background,c=function(){e(K()),n.goBack()};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m,{}),Object(d.jsxs)(j.d,{location:r||t,children:[Object(d.jsx)(j.b,{path:"/",exact:!0,children:Object(d.jsx)(_t,{})}),Object(d.jsx)(j.b,{path:"/login",exact:!0,children:Object(d.jsx)(Nt,{})}),Object(d.jsx)(j.b,{path:"/register",exact:!0,children:Object(d.jsx)(Et,{})}),Object(d.jsx)(j.b,{path:"/forgot-password",exact:!0,children:Object(d.jsx)(It,{})}),Object(d.jsx)(j.b,{path:"/reset-password",exact:!0,children:Object(d.jsx)(Ut,{})}),Object(d.jsx)(Yt,{path:"/profile",exact:!0,children:Object(d.jsx)(Kt,{})}),Object(d.jsx)(j.b,{path:"/feed",exact:!0,children:Object(d.jsx)(yn,{})}),Object(d.jsx)(Yt,{path:"/profile/orders",exact:!0,children:Object(d.jsx)(cn,{})}),Object(d.jsx)(Yt,{path:"/profile/orders/:id",exact:!0,children:Object(d.jsx)(Rn,{})}),Object(d.jsx)(j.b,{path:"/ingredients/:id",exact:!0,children:Object(d.jsx)(dn,{})}),Object(d.jsx)(j.b,{path:"/feed/:id",exact:!0,children:Object(d.jsx)(kn,{})})]}),r&&Object(d.jsx)(j.b,{path:"/ingredients/:id",children:Object(d.jsx)(xe,{onClose:c,children:Object(d.jsx)(on,{})})}),r&&Object(d.jsx)(j.b,{path:"/feed/:id",children:Object(d.jsx)(xe,{onClose:c,children:Object(d.jsx)(Tn,{})})}),r&&Object(d.jsx)(Yt,{path:"/profile/orders/:id",exact:!0,children:Object(d.jsx)(xe,{onClose:c,children:Object(d.jsx)(Tn,{})})})]})},Ln=["success"],Bn=function(e,t,n){return function(r){var c=null,a=!1;return function(i){return function(s){var o=r.dispatch,u=s.type,l=s.payload,d="private"===n?x("accessToken"):null;if(u===t.startConnectionConst&&("vanilla"===n?c=new WebSocket("".concat(e)):"private"===n&&(c=new WebSocket("".concat(e,"?token=").concat(d)))),c&&(a=!0,c.onopen=function(){o(t.wsOnOpen())},c.onerror=function(){o(t.wsOnError())},c.onmessage=function(e){var n=e.data,r=JSON.parse(n),c=(r.success,Object(Zt.a)(r,Ln));o(t.wsGetMessage(c))},c.onclose=function(e){o(t.wsOnClose()),console.log("socket closed with code: ",e.code),a||setTimeout((function(){o(t.wsStartConnection())}),1e3)},u===t.sendMessageConst)){var m=Object(Qt.a)({},l);c.send(JSON.stringify(m))}i(s)}}}},Dn=n(33),Fn=n(162),Pn=n(10),Mn={ingredientItems:[],ingredientItemsRequest:!1,ingredientItemsFailed:!1,ingredientItemsError:null,constructorItems:[],totalPrice:0,currentIngredient:null,currentTab:"one"},An={order:null,modalOrder:null,submitOrderRequest:!1,submitOrderFailed:!1,submitOrderSuccess:!1,submitOrderError:null},qn={submitServerRequest:!1,submitServerFailed:!1,submitServerError:null,submitUpdateTokensSuccess:!1,submitLogoutSuccess:!1,submitUserEmailSuccess:!1,submitSignInSuccess:!1,submitGetUserSuccess:!1,submitChangeCredentialsSuccess:!1,submitPwdResetSuccess:!1,foundNoTokens:!1,canResetPwd:!1,user:null},Gn={orders:[],total:null,totalToday:null,wsConnected:!1,hasError:!1},zn={userOrders:[],total:null,totalToday:null,wsConnected:!1,hasError:!1},Vn=Object(Dn.b)({ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(Qt.a)(Object(Qt.a)({},e),{},{ingredientItemsRequest:!0});case F:return Object(Qt.a)(Object(Qt.a)({},e),{},{ingredientItemsFailed:!1,ingredientItems:t.items,ingredientItemsRequest:!1});case P:return Object(Qt.a)(Object(Qt.a)({},Mn),{},{ingredientItemsFailed:!0,ingredientItemsError:t.error});case V:return Object(Qt.a)(Object(Qt.a)({},e),{},{currentIngredient:JSON.parse(JSON.stringify(e.ingredientItems)).find((function(e){return e._id===t.id}))});case W:return Object(Qt.a)(Object(Qt.a)({},e),{},{currentIngredient:null});case M:return Object(Qt.a)(Object(Qt.a)({},e),{},{constructorItems:[].concat(Object(Pn.a)(e.constructorItems),[Object(Pn.a)(e.ingredientItems).find((function(e){return e._id===t.id}))])});case z:return Object(Qt.a)(Object(Qt.a)({},e),{},{totalPrice:e.constructorItems.reduce((function(e,t){return e+t.price}),0)});case q:return Object(Qt.a)(Object(Qt.a)({},e),{},{constructorItems:e.constructorItems.length&&"bun"===e.constructorItems[0].type?[e.ingredientItems.find((function(e){return e._id===t.id}))].concat(e.constructorItems.slice(1)):[e.ingredientItems.find((function(e){return e._id===t.id}))].concat(e.constructorItems)});case G:return Object(Qt.a)(Object(Qt.a)({},e),{},{constructorItems:Object(Pn.a)(e.constructorItems).map((function(n,r){return r===t.dragIndex?Object(Pn.a)(e.constructorItems).find((function(e,n){return n===t.hoverIndex})):r===t.hoverIndex?Object(Pn.a)(e.constructorItems).find((function(e,n){return n===t.dragIndex})):n}))});case A:return Object(Qt.a)(Object(Qt.a)({},e),{},{constructorItems:Object(Pn.a)(e.constructorItems).filter((function(e,n){return n!==t.index}))});case J:return Object(Qt.a)(Object(Qt.a)({},e),{},{constructorItems:[]});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:return Object(Qt.a)(Object(Qt.a)({},e),{},{submitOrderRequest:!0});case $e:return Object(Qt.a)(Object(Qt.a)({},e),{},{submitOrderFailed:!1,order:t.order,submitOrderRequest:!1,submitOrderSuccess:!0});case nt:return Object(Qt.a)(Object(Qt.a)({},e),{},{modalOrder:t.order});case et:return Object(Qt.a)(Object(Qt.a)({},An),{},{submitOrderFailed:!0,submitOrderError:t.error});case tt:return Object(Qt.a)(Object(Qt.a)({},e),{},{submitOrderSuccess:!1});case rt:return Object(Qt.a)(Object(Qt.a)({},e),{},{modalOrder:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Object(Qt.a)(Object(Qt.a)({},e),{},{submitServerRequest:!0,foundNoTokens:!1});case Ce:return Object(Qt.a)(Object(Qt.a)({},e),{},{submitServerFailed:!1,submitServerRequest:!1,submitUserEmailSuccess:!0});case Se:return Object(Qt.a)(Object(Qt.a)({},e),{},{submitServerFailed:!0,submitServerError:t.error});case Ee:return Object(Qt.a)(Object(Qt.a)({},e),{},{submitServerFailed:!1,submitServerRequest:!1,submitPwdResetSuccess:!0});case Le:return Object(Qt.a)(Object(Qt.a)({},e),{},{user:{email:t.user.email,name:t.user.name}});case Te:return Object(Qt.a)(Object(Qt.a)({},e),{},{submitServerFailed:!1,submitServerRequest:!1,submitSignInSuccess:!0,submitLogoutSuccess:!1});case Ie:return Object(Qt.a)(Object(Qt.a)({},e),{},{submitServerFailed:!1,submitServerRequest:!1,submitUpdateTokensSuccess:!0});case we:return Object(Qt.a)({},qn);case Re:return Object(Qt.a)(Object(Qt.a)({},e),{},{submitServerFailed:!1,submitServerRequest:!1,submitChangeCredentialsSuccess:!0});case ke:return Object(Qt.a)(Object(Qt.a)({},e),{},{submitServerFailed:!1,submitServerRequest:!1,submitGetUserSuccess:!0});case Be:return Object(Qt.a)(Object(Qt.a)({},e),{},{canResetPwd:!0});case De:return Object(Qt.a)(Object(Qt.a)({},e),{},{canResetPwd:!1,submitPwdResetSuccess:!1});case Ue:return Object(Qt.a)(Object(Qt.a)({},e),{},{foundNoTokens:!0});case Fe:return Object(Qt.a)(Object(Qt.a)({},e),{},{submitServerFailed:!1});default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jn:return Object(Qt.a)(Object(Qt.a)({},e),{},{wsConnected:!0,hasError:!1});case bn:return Object(Qt.a)(Object(Qt.a)({},e),{},{wsConnected:!1,hasError:!0});case _n:return Object(Qt.a)({},Gn);case pn:return Object(Qt.a)(Object(Qt.a)({},e),{},{orders:t.payload.orders,total:t.payload.total,totalToday:t.payload.totalToday});default:return e}},userFeed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ft:return Object(Qt.a)(Object(Qt.a)({},e),{},{wsConnected:!0,hasError:!1});case Pt:return Object(Qt.a)(Object(Qt.a)({},e),{},{wsConnected:!1,hasError:!0});case Mt:return Object(Qt.a)({},zn);case At:return Object(Qt.a)(Object(Qt.a)({},e),{},{userOrders:t.payload.orders,total:t.payload.total,totalToday:t.payload.totalToday});default:return e}}}),Wn=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Dn.c)(Object(Dn.a)(Fn.a,Bn("wss://norma.nomoreparties.space/orders/all",hn,"vanilla"),Bn("wss://norma.nomoreparties.space/orders",Vt,"private"))),Jn=Object(Dn.d)(Vn,Wn);i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(te.a,{store:Jn,children:Object(d.jsx)(l.a,{children:Object(d.jsx)(Un,{})})})}),document.getElementById("root"))},40:function(e,t,n){e.exports={card:"ingredient_card__26TBS",price:"ingredient_price__Tlpwn",description:"ingredient_description__3dHAw",cardContainer:"ingredient_cardContainer__3O59I"}},41:function(e,t,n){e.exports={form:"reset-password_form__yw5zw",formContainer:"reset-password_formContainer__2J4-9",inputContainer:"reset-password_inputContainer__22rjb",linkContainer:"reset-password_linkContainer__3sDkn",link:"reset-password_link__DUOwb"}},42:function(e,t,n){e.exports={profilePageContainer:"orders_profilePageContainer__1K1pY",navContainer:"orders_navContainer__2LwKo",formContainer:"orders_formContainer__27uqC",navLinkList:"orders_navLinkList__2Grcb",inputContainer:"orders_inputContainer___HJjX",linkContainer:"orders_linkContainer__2rqt4",logoutButton:"orders_logoutButton__3Kxun",comment:"orders_comment__2o9qc",buttonsContainer:"orders_buttonsContainer__2aSoi",button:"orders_button__V7UL5",cardContainer:"orders_cardContainer__1dEjA",orderTape:"orders_orderTape__2iYh1"}},47:function(e,t,n){e.exports={form:"forgot-password_form__1vDPl",formContainer:"forgot-password_formContainer__13e7Z",inputContainer:"forgot-password_inputContainer__3QiU9",linkContainer:"forgot-password_linkContainer__2MdIA",link:"forgot-password_link__3evoc"}},48:function(e,t,n){e.exports={link:"profile-nav_link__19UH9",activeLink:"profile-nav_activeLink__1BC_X"}}},[[352,1,2]]]);
//# sourceMappingURL=main.75cc16e3.chunk.js.map